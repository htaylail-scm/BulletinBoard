<div class="container">
    <h4 class="mt-4 display-4">Post Lists</h4>
    <div style="display: flex;justify-content: flex-end; ">
     
    <%= form_tag posts_path, method: :get do %>
      <%= text_field_tag :search, params[:search] %> 
      <%= submit_tag "Search" %>
    <% end %>
  
      <%= link_to 'Add', new_post_path , class: "btn btn-success" %>
      <%= link_to 'Download', download_post_path(format: :csv), class: "btn btn-success" %>
    </div>

    <%= form_tag upload_post_path, multipart: true, class: 'form-inline' do %>
      <div class="form-group">
        <%= file_field_tag :file %>    
        <%= submit_tag "Upload", class: "btn btn-success" %>
      </div>
    <% end %>


    <div class="row justify-content-center">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">Post Titl</th>
            <th scope="col">Post Titl2</th>
            <th scope="col">Post Description</th>
            <th scope="col">Posted User</th>
            <th scope="col">Posted Date</th>
            <th scope="col" colspan="2">Action</th>
          </tr>
        </thead>
        <tbody>
          <% @posts.each do |post| %>
            <tr> 
              <td><%=link_to post.title, post %></td>
              <td><%= link_to post.title, post_path(post), {:remote => true, 'data-toggle' =>  "modal"} %></td>
              <td><%= post.description %></td>
              <td><%= post.created_user_id %></td>
              <td> <%= post.created_at.strftime("%Y/%m/%d") %></td>
              <% if current_user.id == post.created_user_id || admin? %>
                <td><%= link_to 'Edit', edit_post_path(post.id) %></td> 
                <td><%= link_to "Delete", post_path(post.id),
                      method: :delete, data: {confirm: "Are you sure?"} %> 
                </td>
              <% end %>         
            </tr>
          <% end %>
        </tbody>
      </table>
      <%= will_paginate @posts, list_classes: %w(pagination justify-content-center) %>
  
</div>





